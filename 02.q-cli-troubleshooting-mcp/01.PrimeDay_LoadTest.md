# Lab 2-1. Prime Day 이벤트 준비를 위한 Load Test 로 대비하기

DynamoDB 콘솔을 통해서 설정과 테이블들을 확인해 봅시다. 특히 Capacity mode가 On demand인지 확인합니다. <br>
<img width="1348" height="605" alt="Screenshot 2025-07-18 at 5 21 55 AM" src="https://github.com/user-attachments/assets/a53d8c61-48d9-4454-a1b3-6ff493d6fc23" />

### DynamoDB 설정 변경하기
평소 운영하는 DynamoDB가 큰 부하를 일으키지 않는다고 가정하고 아래와 같이 Provisioned Capacity를 설정합니다.

```
DynamoDB의 모든 테이블들을 Provisioned Capacity Mode로 변경하고 WCU 2, RCU 2으로 설정해 주세요.
```
<img width="1008" height="561" alt="Screenshot 2025-09-08 at 1 49 21 PM" src="https://github.com/user-attachments/assets/aa29fb48-79eb-4a45-8edd-c165ad3fc729" />

관리 콘솔을 통해서 변경된 설정을 확인해 봅시다. On Demand에서 Provisioned로 변경되었는지 확인합니다.
<img width="1898" height="879" alt="Screenshot 2025-07-29 at 4 55 08 PM" src="https://github.com/user-attachments/assets/932b5514-51fd-44e8-b037-a0ed66b7868d" />


### Prime Day 준비하기
본격적으로 Prime Day를 위한 로드테스트를 준비합니다. Q Developer CLI가 생성하는 스크립트를 이용합니다. 
이커머스의 특성상 Peak load 테스트가 중요합니다.

<BR>

>[!NOTE]
>[현재 위치 내의 ddb/](ddb/) 폴더 내에 이미 로드테스트 스크립트의 결과물이 업로드 되어 있습니다.
>로드테스트 스크립트를 만드는 데 시간이 소요되니 이미 만들어진 스크립트를 활용하세요.
>
<BR>

### Load Test 실행하기
파일 ddb_load_tester.py 의 작성이 완성되었다면, 사용법을 읽어보고 부하테스트를 시작합니다. (Q Dev CLI 에 사용법을 문의해도 좋습니다.)

```
/home/ec2-user/ddb/ddb_load_tester.py 스크립트를 full mode로 실행해 주세요
```

(스크립트가 정상 실행되면 잠시 커피 한잔하면서 지켜봅니다.)
<img width="1199" height="509" alt="Screenshot 2025-08-04 at 1 20 29 PM" src="https://github.com/user-attachments/assets/ca3ea5b5-ef8d-4b66-a4d7-65cb4cc35743" />



5분 이후에 결과를 확인하고 옆에 동료와 비교해 봅니다.

<img width="869" height="615" alt="Screenshot 2025-08-04 at 1 44 54 PM" src="https://github.com/user-attachments/assets/1817a66a-5a94-42f9-a944-bac466969386" />


### Optional - Support Case 질의 준비하기
부하가 충분히 발생했다면, 어떻게 대비하면 좋은지 Q Developer CLI에 질의합니다.
```
이러한 수준의 부하가 발생했을 때, 운영자가 취할 수 있는 방법을 300자 이하로 요약 정리해주세요.
1) 사용자의 경험이 나빠지는 것을 사전에 방지하고 
2) 사전 준비를 함에도 불구하고 실제 이벤트에서 문제가 발생했을 때 조치방법. 실제 이벤트 시에는 부하가 가중될 수 있습니다.
```
요약 정리된 내용을 확인했다면 Support Case로 정확히 확인하도록 준비를 요청합니다.
```
위의 요약 정리된 내용이 정확한지 Support Case로 문의할 예정입니다.
진행한 부하테스트와 해결 방법을 문의하도록 제목과 내용을 200자 이하로 작성해주세요. 
```
<img width="875" height="411" alt="Screenshot 2025-07-29 at 5 45 57 PM" src="https://github.com/user-attachments/assets/f0a6c4f5-9602-49cb-8c8e-174f55f7ac9c" />

Next 버튼을 눌러 다음 랩으로 이동하세요

[![Next](../03.mcp-server/images/next.png)](02.Utilize_MCP_For_Report.md)


